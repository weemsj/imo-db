{% extends "main.j2" %}
{% block title %}Employees{% endblock %} 
{% set active_page = "employees" %}
{% block content %}
    <h1>Employee</h1>
    <h3>Update Employee: {{ employee.emp_id }}</h3>
    <form id="update_employee" action="/update_employee/{{ employee.emp_id }}" method="POST">
        <input type="hidden" value="{{ employee.emp_id }}">
        First name: <input type="text" name="f_name" value="{{ employee.f_name }}"><br>
        <br>
        Last name: <input type="text" name="l_name" value="{{ employee.l_name }}"><br>
        <br>
        Gender: <select name="gender">
            {% if employee.gender == "MALE" %}
                <option selected value = "MALE">Male</option>
                <option value="FEMALE">Female</option>
                <option value="NONBINARY">NonBinary</option>   
            {% elif employee.gender == "FEMALE" %}
                <option selected value="FEMALE"> Female</option>
                <option selected value = "MALE">Male</option>
                <option value="NONBINARY">NonBinary</option> 
            {% else %}
                <option selected value="NONBINARY"> NonBinary</option>
                <option value="MALE">Male</option>
                <option value="FEMALE">Female</option>
            {% endif %}
            </select><br>
        <br>
        Address 1: <input type="text" name="address_1" value="{{ employee.address_1 }}"><br>
        <br>
        Address 2:<input type="text" name="address_2" value="{{ employee.address_2 }}"><br>
        <br>
        City: <input type="text" name="city" value="{{ employee.city }}"><br>
        <br>
        State: <input type="text" name="state" value="{{ employee.state }}"><br>
        <br>
        Zip: <input type="text" name="zip" value="{{ employee.zip }}"><br>
        <br>
        Telephone: <input type="text" name="tel" value="{{ employee.tel }}"><br>
        <br>
        Email: <input type="text" name="email" value="{{ employee.email }}"><br>
        <br>
        Start date: <input type="DATE" name="start_date" value="{{ employee.start_date }}" readonly><br>
        <br>
        End date: <input type="Date" name="end_date"><br>
        <br>
        Department: <select name="dept">
            {% for d in dept %}
                {{ d.dept_id }}
                {{ employee.dept_number }}
                {% if d.dept_id == employee.dept_number %}
                    <option selected value="{{ d.dept_id }}">{{ d.dept_name }}</option>
                {% else %}
                    <option value="{{ d.dept_id }}">{{ d.dept_name }}</option>
                {% endif %}
            {% endfor %}
        </select><br>
        <input type="submit" value="Submit">
    </form>
    <a href="{{ return_page }}"><u>back to {{ entity }}</u></a>
{% endblock %}