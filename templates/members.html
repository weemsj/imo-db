{% extends "main.j2" %}
{% block title %}Members{% endblock %}
{% set active_page = 'members' %}
{% block content %}

    <h1> Members </h1>
    <h3> This page shows all {{ view }} at IMO Fitness. Use the below form to search, add, modify, or delete
        members </h3><br>

    <!-- add filter option for view of active and not active members -->
    <input type="text" name="mem_search" id="emp_search" onkeyup="empSearch()" placeholder="Last name search..."
           title="name search" required>

    </form>
    <div id=insert-right>
        <button type="button"><a href="add_member">Add member</a></button>
    </div>
    <br><br>

    <div style="overflow-x:auto" class="table">
        <table class="nostretch" id="emp_table" border="1">
            <thead>
            {% for key in entity[0].keys() %}

                <th id="thead">{{ key }}</th>

            {% endfor %}
            </thead>
            <tbody>
            {% for data in entity %}
                <tr>
                    {% for key in data.keys() %}
                        <td>{{ data[key] }}</td>
                    {% endfor %}
                    <td><input type="button" value="more details"
                               onclick="window.location.href='{{ url_for('member_details', member_id=data.member_id) }}';">
                    </td>
                    <td><input type="button" value="classes"
                               onclick="window.location.href='{{ url_for('enrolled_classes', member_id=data.member_id) }}';">
                    </td>
                    {# link to view all classes member is enrolled in #}
                    <td><input type="button" value="edit"
                               onclick="window.location.href='{{ url_for('update_member', member_id=data.member_id) }}';">
                    </td>
                    <td><input type="button" value="delete"
                               onclick="window.location='/delete_member?member_id={{ data.member_id }}'"></td>
                </tr>
            {% endfor %}
            </tbody>
        </table>
    </div>
    <div>
        <button type="button"><a href="add_member">Add member</a></button>
    </div>

{% endblock %}
